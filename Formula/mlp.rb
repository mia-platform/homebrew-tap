# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Mlp < Formula
  desc "mlp is a CLI used to interpolate and deploy resource on Kubernetes"
  homepage "https://www.mia-platform.eu"
  version "2.2.0"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/mia-platform/mlp/releases/download/v2.2.0/mlp-darwin-amd64"
      sha256 "7a65e5e23752434906739b4975ba97a4fa215644b4493a696f35b5619f2a89d8"

      def install
        bin.install "mlp-darwin-amd64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/mia-platform/mlp/releases/download/v2.2.0/mlp-darwin-arm64"
      sha256 "5c75da6cb37de3d6f40af6fdc3fb4a69fc8e0bdf063136f2d4cbb7fa115b96e5"

      def install
        bin.install "mlp-darwin-arm64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/mlp/releases/download/v2.2.0/mlp-linux-amd64"
      sha256 "a1099b12ff56a63e42e9a0707ffc10b5d1926d6f05d2235bf36409e2e9396be3"
      def install
        bin.install "mlp-linux-amd64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/mlp/releases/download/v2.2.0/mlp-linux-armv6"
      sha256 "32ad28e992517b4b6cdb1172c91e27db9d611a4995b77ca578d27b0b91049c7f"
      def install
        bin.install "mlp-linux-armv6" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/mlp/releases/download/v2.2.0/mlp-linux-arm64"
      sha256 "f493354e29e7ad19e23b83cf42ca9de07063972b62b3cc341bdd2241b3186ee1"
      def install
        bin.install "mlp-linux-arm64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
  end
end

# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Mlp < Formula
  desc "mlp is a CLI used to interpolate and deploy resource on Kubernetes"
  homepage "https://www.mia-platform.eu"
  version "2.3.0"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/mia-platform/mlp/releases/download/v2.3.0/mlp-darwin-amd64"
      sha256 "938d043bb6c7c242aca2d0929f7409b23d28343fddf4099421d0d13231aa94dc"

      def install
        bin.install "mlp-darwin-amd64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/mia-platform/mlp/releases/download/v2.3.0/mlp-darwin-arm64"
      sha256 "9891f2970ff4c017d3b9a6219c745e9791d9714ac807d1366339dd4a539d30c8"

      def install
        bin.install "mlp-darwin-arm64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/mlp/releases/download/v2.3.0/mlp-linux-amd64"
      sha256 "ae900ca42f0bbf84ce4b700d3b287e148ae17b80a4fe56a46e7badbd8e0e549a"
      def install
        bin.install "mlp-linux-amd64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/mlp/releases/download/v2.3.0/mlp-linux-armv6"
      sha256 "56eef8c7f8ec065ec5406ef47ea4ac3abbf44d8cdc136c16b1500d3dfcda76ce"
      def install
        bin.install "mlp-linux-armv6" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/mlp/releases/download/v2.3.0/mlp-linux-arm64"
      sha256 "3b104c3369687281469adbcf482d90eb33e82688dcf53a21dbcd4e07926730b6"
      def install
        bin.install "mlp-linux-arm64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
  end
end

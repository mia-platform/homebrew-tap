# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Mlp < Formula
  desc "mlp is a CLI used to interpolate and deploy resource on Kubernetes"
  homepage "https://www.mia-platform.eu"
  version "2.0.1"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/mia-platform/mlp/releases/download/v2.0.1/mlp-darwin-amd64"
      sha256 "cefb4cedfec19f68a490e40287e09f38bfb52e3786902054543dac2b17a2b4bd"

      def install
        bin.install "mlp-darwin-amd64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/mia-platform/mlp/releases/download/v2.0.1/mlp-darwin-arm64"
      sha256 "a2dfc621defe1b9922f777b58e420e4f7071fa225334cb3018775e034e194008"

      def install
        bin.install "mlp-darwin-arm64" => "mlp"

        chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"mlp", "completion")
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/mlp/releases/download/v2.0.1/mlp-linux-amd64"
        sha256 "f0384abb757f655b215d5b22e278f0063dfb47d1ee9738ef7b5facbdf8cd47ac"

        def install
          bin.install "mlp-linux-amd64" => "mlp"

          chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"mlp", "completion")
        end
      end
    end
    if Hardware::CPU.arm?
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/mlp/releases/download/v2.0.1/mlp-linux-armv6"
        sha256 "117037ed2b2b89c08cee4acef9d79edb7ef0f15ce5a1dc12f878162f262c9d3e"

        def install
          bin.install "mlp-linux-armv6" => "mlp"

          chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"mlp", "completion")
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/mlp/releases/download/v2.0.1/mlp-linux-arm64"
        sha256 "351c0dec0f04c1fd3eec8120de4427317d0b2da9ccd0b43ce9f601e979ab36ec"

        def install
          bin.install "mlp-linux-arm64" => "mlp"

          chmod 0555, bin/"mlp" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"mlp", "completion")
        end
      end
    end
  end
end

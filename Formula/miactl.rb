# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Miactl < Formula
  desc "Mia Platform Cli for Console"
  homepage "https://www.mia-platform.eu"
  version "0.17.1"
  license "Apache-2.0"

  on_macos do
    on_intel do
      url "https://github.com/mia-platform/miactl/releases/download/v0.17.1/miactl-darwin-amd64"
      sha256 "adc138f99ead189dc06a0a8d9c690fe69ce059331837f601b426b5e140c57aae"

      def install
        bin.install "miactl-darwin-amd64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    on_arm do
      url "https://github.com/mia-platform/miactl/releases/download/v0.17.1/miactl-darwin-arm64"
      sha256 "d450e284349b2f36d36b769d23051848fcbec7f597fabdd274f8dd76d0ee4c5a"

      def install
        bin.install "miactl-darwin-arm64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.17.1/miactl-linux-amd64"
        sha256 "59151fb25fb0e2ff3c00c27ff0af57ea06d7b8b77aeb810e8a79f8bec978530f"

        def install
          bin.install "miactl-linux-amd64" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.17.1/miactl-linux-armv6"
        sha256 "b3469503489909829d560a2e7da536c584395060f9e3a3b8fdb5e7194bc31bbf"

        def install
          bin.install "miactl-linux-armv6" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.17.1/miactl-linux-arm64"
        sha256 "2f10d167556bf6841265b40a67c0b0550b4c004311a24c3f50f78461cd8deead"

        def install
          bin.install "miactl-linux-arm64" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
  end
end

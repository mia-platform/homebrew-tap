# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Miactl < Formula
  desc "Mia Platform Cli for Console"
  homepage "https://www.mia-platform.eu"
  version "0.21.2"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.2/miactl-darwin-amd64"
      sha256 "a4e27a280897a10912c3193ad14a263f31655330393365e26691b4afccb0e12f"

      def install
        bin.install "miactl-darwin-amd64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.2/miactl-darwin-arm64"
      sha256 "a3b04f3a6ad211833b06bca13b9e8b358159445ee32553c301da0be933595d62"

      def install
        bin.install "miactl-darwin-arm64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.2/miactl-linux-amd64"
      sha256 "ecaae34b7de818c232edb2763d3e55360f308737c487e46b294fa1727ed95d06"
      def install
        bin.install "miactl-linux-amd64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.2/miactl-linux-armv6"
      sha256 "436b05b053e10167d2bd528ac9aa0fba1ec0c1ff7f930c9b7a609bb40d444e6d"
      def install
        bin.install "miactl-linux-armv6" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.2/miactl-linux-arm64"
      sha256 "f483d79ca25c3c896575c0699ce81c58b57a50367c3fcfb5abb4733f35c67bfe"
      def install
        bin.install "miactl-linux-arm64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
  end
end

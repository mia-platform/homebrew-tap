# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Miactl < Formula
  desc "Mia Platform Cli for Console"
  homepage "https://www.mia-platform.eu"
  version "0.21.0"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.0/miactl-darwin-amd64"
      sha256 "f68cb47e41be265a1fe8ece5fd4de771e1e2508f4f255684e3a8feaf82276d39"

      def install
        bin.install "miactl-darwin-amd64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.0/miactl-darwin-arm64"
      sha256 "84a27ae3cdb3455e9a87c031937dc28e692d0e350d4fc507f169a616fd36ab33"

      def install
        bin.install "miactl-darwin-arm64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.0/miactl-linux-amd64"
      sha256 "e8f395c0da921c6cc621d97c0b69a164a6978b8213d05eab6fec226f0d09f0f9"
      def install
        bin.install "miactl-linux-amd64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.0/miactl-linux-armv6"
      sha256 "02597ee25233e5d48c32d0176df71053ce848f8937c4efc42ab01c30ca6ba07c"
      def install
        bin.install "miactl-linux-armv6" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/mia-platform/miactl/releases/download/v0.21.0/miactl-linux-arm64"
      sha256 "5f9d79e88bb44df3197349797848fc84225e902e4105829a911214cbebf17c81"
      def install
        bin.install "miactl-linux-arm64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
  end
end

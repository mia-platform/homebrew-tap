# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Miactl < Formula
  desc "Mia Platform Cli for Console"
  homepage "https://www.mia-platform.eu"
  version "0.17.0"
  license "Apache-2.0"

  on_macos do
    on_intel do
      url "https://github.com/mia-platform/miactl/releases/download/v0.17.0/miactl-darwin-amd64"
      sha256 "b5186ccf31d8e6e28a178424fe8653e6bd7bbcd48712a4495b80630524916792"

      def install
        bin.install "miactl-darwin-amd64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    on_arm do
      url "https://github.com/mia-platform/miactl/releases/download/v0.17.0/miactl-darwin-arm64"
      sha256 "ed70a2dd559f5a6513f4692ba716f360abe9b745f252224351369ea2d78b867e"

      def install
        bin.install "miactl-darwin-arm64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.17.0/miactl-linux-amd64"
        sha256 "bb90f319fd89206ae81b4a93d5a70b6091852bf005132854f968a780ce1833fb"

        def install
          bin.install "miactl-linux-amd64" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.17.0/miactl-linux-armv6"
        sha256 "8de4365d95924603e6fa3f6dfc8ed3bcefc77f39fa453ce619fcb8d408949028"

        def install
          bin.install "miactl-linux-armv6" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.17.0/miactl-linux-arm64"
        sha256 "e9d02f50fb78a2dacb7befe324d96ab7eeb8ae276f3f4ad2746b30f1d3abbf13"

        def install
          bin.install "miactl-linux-arm64" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
  end
end

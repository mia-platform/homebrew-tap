# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Miactl < Formula
  desc "Mia Platform Cli for Console"
  homepage "https://www.mia-platform.eu"
  version "0.14.0"
  license "Apache-2.0"

  on_macos do
    on_intel do
      url "https://github.com/mia-platform/miactl/releases/download/v0.14.0/miactl-darwin-amd64"
      sha256 "b5ca707610e7dc870f07caef3af6dd8683b45f10fa5ab4914f9a8ba4ac5f4d07"

      def install
        bin.install "miactl-darwin-amd64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
    on_arm do
      url "https://github.com/mia-platform/miactl/releases/download/v0.14.0/miactl-darwin-arm64"
      sha256 "1f9efd5e26d86eca68c8403e586877c08014c4255417141191ce2195be1cecff"

      def install
        bin.install "miactl-darwin-arm64" => "miactl"

        chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
        generate_completions_from_executable(bin/"miactl", "completion")
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.14.0/miactl-linux-amd64"
        sha256 "6c3c928e06e3c58978654cc4af0cd1a45c3f3a3983ec3a5ae3cd5dcfca8769f3"

        def install
          bin.install "miactl-linux-amd64" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.14.0/miactl-linux-armv6"
        sha256 "f095d3b4ef53d0354d97e07708c0cddd269da6e122e4e5fa1fdfc6a6627b1f84"

        def install
          bin.install "miactl-linux-armv6" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/mia-platform/miactl/releases/download/v0.14.0/miactl-linux-arm64"
        sha256 "5f3a43e15e8d6edb807fbcdc9c7f1f856615e5642205cb570ac11fa175583fff"

        def install
          bin.install "miactl-linux-arm64" => "miactl"

          chmod 0555, bin/"miactl" # generate_completions_from_executable fails otherwise
          generate_completions_from_executable(bin/"miactl", "completion")
        end
      end
    end
  end
end
